{"version":3,"sources":["CardSection.js","api.js","CheckoutForm.js","MyStoreCheckout.js","index.js"],"names":["style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor","CardSection","className","api","createPaymentIntent","options","window","fetch","method","headers","body","JSON","stringify","then","res","status","json","data","error","console","log","Error","client_secret","CheckoutForm","handleSubmit","ev","preventDefault","cardElement","props","elements","getElement","clientsecret","stripe","confirmCardPayment","payment_method","card","onSubmit","this","src","alt","React","Component","injectStripe","MyStoreCheckout","render","apiKey","document","getElementById"],"mappings":"wNAIMA,EAAQ,CACZC,KAAM,CACJC,MAAO,UACPC,WAAY,0CACZC,cAAe,cACfC,SAAU,OACV,gBAAiB,CACfH,MAAO,YAGXI,QAAS,CACPJ,MAAO,UACPK,UAAW,YAaAC,EATK,WAClB,OACE,8CAEE,kBAAC,cAAD,CAAaC,UAAU,gBAAgBT,MAAOA,MCMrCU,EAJH,CACVC,oBA3B0B,SAAAC,GAC1B,OAAOC,OACJC,MADI,8CACiD,CACpDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEtBQ,MAAK,SAAAC,GACJ,OAAmB,MAAfA,EAAIC,OACCD,EAAIE,OAEJ,QAGVH,MAAK,SAAAI,GACJ,IAAKA,GAAQA,EAAKC,MAEhB,MADAC,QAAQC,IAAI,aAAc,CAAEH,SACtB,IAAII,MAAM,2BAEhB,OAAOJ,EAAKK,mBCfdC,E,2MACJC,aAAe,SAACC,GAEdA,EAAGC,iBAOH,IAAMC,EAAc,EAAKC,MAAMC,SAASC,WAAW,QAGnD3B,EAAIC,sBACHS,MAAK,SAAAkB,GACJZ,QAAQC,IAAIW,GACZ,EAAKH,MAAMI,OAAOC,mBAAmBF,EAAc,CACjDG,eAAgB,CACdC,KAAMR,S,wEASZ,OACE,0BAAMS,SAAUC,KAAKb,cACnB,yCACA,uDACA,yBAAKc,IAAI,iEAAiEC,IAAI,cAC9E,kBAAC,EAAD,MACA,sD,GAjCmBC,IAAMC,WAuClBC,yBAAanB,GC9BboB,E,iLARX,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,W,GAJsBH,IAAMC,WCSpCG,iBAAO,mBARK,WACV,OACE,kBAAC,iBAAD,CAAgBC,OAAO,oCACrB,kBAAC,EAAD,SAKC,MAASC,SAASC,eAAe,W","file":"static/js/main.1abd518f.chunk.js","sourcesContent":["import React from 'react';\nimport {CardElement} from 'react-stripe-elements';\n\n\nconst style = {\n  base: {\n    color: \"#32325d\",\n    fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n    fontSmoothing: \"antialiased\",\n    fontSize: \"16px\",\n    \"::placeholder\": {\n      color: \"#aab7c4\"\n    }\n  },\n  invalid: {\n    color: \"#fa755a\",\n    iconColor: \"#fa755a\"\n  }\n};\n\nconst CardSection = () => {\n  return (\n    <label>\n      Card details\n      <CardElement className='MyCardElement' style={style} />\n    </label>\n  );\n};\n\nexport default CardSection;\n\n","const createPaymentIntent = options => {\n  return window\n    .fetch(`http://localhost:4242/create-payment-intent`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(options)\n    })\n    .then(res => {\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        return null;\n      }\n    })\n    .then(data => {\n      if (!data || data.error) {\n        console.log(\"API error:\", { data });\n        throw new Error(\"PaymentIntent API Error\");\n      } else {\n        return data.client_secret;\n      }\n    });\n};\n\nconst api = {\n  createPaymentIntent,\n};\n\nexport default api;","import React from 'react';\nimport {injectStripe} from 'react-stripe-elements';\nimport CardSection from './CardSection';\nimport api from \"./api\";\n\n\nclass CheckoutForm extends React.Component {\n  handleSubmit = (ev) => {\n    // We don't want to let default form submission happen here, which would refresh the page.\n    ev.preventDefault();\n\n    // Use Elements to get a reference to the Card Element mounted somewhere\n    // in your <Elements> tree. Elements will know how to find your Card Element\n    // becase only one is allowed.\n    // See our getElement documentation for more:\n    // https://stripe.com/docs/stripe-js/reference#elements-get-element\n    const cardElement = this.props.elements.getElement('card');\n\n    //create payment intent, create paymentmethod and confirm payment intent\n    api.createPaymentIntent()\n    .then(clientsecret=>{\n      console.log(clientsecret);\n      this.props.stripe.confirmCardPayment(clientsecret, {\n        payment_method: {\n          card: cardElement,\n        },\n      });\n    })\n\n    \n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <h3>SGD 10.99</h3>\n        <h4>Order a blue llama now!</h4>\n        <img src=\"http://bluebison.net/sketchbook/2009/1109/llama-blue-small.png\" alt=\"bluellama\"></img>\n        <CardSection />\n        <button>Confirm order</button>\n      </form>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);","import React from 'react';\nimport {Elements} from 'react-stripe-elements';\n\nimport InjectedCheckoutForm from './CheckoutForm';\n\nclass MyStoreCheckout extends React.Component {\n  render() {\n    return (\n      <Elements>\n        <InjectedCheckoutForm />\n      </Elements>\n    );\n  }\n}\n\nexport default MyStoreCheckout;","import React from 'react';\nimport {render} from 'react-dom';\nimport {StripeProvider} from 'react-stripe-elements';\n\nimport MyStoreCheckout from './MyStoreCheckout';\n\nconst App = () => {\n  return (\n    <StripeProvider apiKey=\"pk_test_eLz60JoT4GwMcTJ6HLTLspsP\" >\n      <MyStoreCheckout />\n    </StripeProvider>\n  );\n};\n\nrender(<App />, document.getElementById('root'));"],"sourceRoot":""}